// Global count variable
let count = 0;

// Get DOM elements
const cardInput = document.getElementById('cardInput');
const addBtn = document.getElementById('addCardBtn');
const resultDisplay = document.getElementById('result');
const historyList = document.getElementById('historyList');

// Card counting function
function cc(card) {
  if (typeof card === 'number') {
    if (card >= 2 && card <= 6) {
      count += 1;
    } else if (card === 10) {
      count -= 1;
    }
  } else if (typeof card === 'string') {
    if (['J', 'Q', 'K', 'A'].includes(card)) {
      count -= 1;
    }
  }
  const decision = count > 0 ? 'Bet' : 'Hold';
  return `${count} ${decision}`;
}

// Update display
function updateDisplay(card, resultText) {
  resultDisplay.textContent = resultText;
  // Add to history
  const li = document.createElement('li');
  li.textContent = `Card: ${card} â†’ ${resultText}`;
  historyList.appendChild(li);
}

// Handle button click
addBtn.addEventListener('click', () => {
  const inputVal = cardInput.value.trim().toUpperCase();
  if (!inputVal) return;

  // Parse input
  let cardValue;
  if (!isNaN(inputVal)) {
    cardValue = Number(inputVal);
  } else {
    cardValue = inputVal;
  }

  // Run cc function
  const result = cc(cardValue);
  updateDisplay(cardVal, result);
  // Clear input
  cardInput.value = '';
});
